var eclipseType=["全食","偏食","环食","偏食"];//Total,Partial,Annular,Penumbral
lunar=[[-592579347000,3],[-579905121000,3],[-577366374000,3],[-564535212000,1],[-549259925000,1],[-533952731000,0],[-518614730000,0],[-503357259000,0],[-487985949000,1],[-472735600000,3],[-459941797000,3],[-444639660000,1],[-429352088000,1],[-414004304000,0],[-398741312000,0],[-383391150000,0],[-370641585000,3],[-368106391000,1],[-352801930000,3],[-339997683000,1],[-324773783000,3],[-309367899000,0],[-294151089000,0],[-278764280000,1],[-263508669000,1],[-248180178000,3],[-235397111000,3],[-232862550000,3],[-220149618000,3],[-204775021000,1],[-189521555000,0],[-174178390000,0],[-158880126000,0],[-143590234000,1],[-128242168000,3],[-115526874000,3],[-100187227000,3],[-84887576000,0],[-69601452000,0],[-54241919000,0],[-39010645000,0],[-23606814000,3],[-10933905000,3],[-8394581000,3],[4437043000,1],[19711446000,1],[35019921000,0],[50355832000,0],[65616845000,0],[80982982000,1],[96239878000,3],[109025441000,3],[111584359000,3],[124335906000,1],[139616204000,1],[154970047000,0],[170228927000,0],[185581452000,0],[200865308000,1],[216169319000,3],[228975544000,1],[244197008000,3],[259604591000,0],[274820701000,0],[290207332000,1],[305463302000,0],[320791563000,3],[333572939000,3],[336108680000,3],[348825048000,3],[364193260000,1],[379454204000,0],[394788707000,0],[410095777000,0],[425377391000,1],[440732997000,3],[453444063000,3],[455984799000,3],[468784568000,3],[484084639000,0],[499369397000,0],[514730610000,0],[529960734000,0],[545365190000,3],[560577750000,3],[573408821000,3],[588683129000,1],[603992178000,0],[619326547000,0],[634590722000,0],[649951996000,1],[665215178000,3],[677992541000,3],[680551730000,3],[693311580000,1],[708584277000,1],[723944705000,0],[739198886000,0],[754554426000,0],[769836680000,1],[785141094000,3],[797948344000,1],[813168312000,3],[828576647000,0],[843792924000,0],[859178428000,1],[874435662000,0],[889762868000,3],[902543157000,3],[905080271000,3],[917799515000,3],[933161686000,1],[948429874000,0],[963755799000,0],[979071700000,0],[994344983000,1],[1009708222000,3],[1022414666000,3],[1024954093000,3],[1037756860000,3],[1053056473000,0],[1068340778000,0],[1083702677000,0],[1098932711000,0],[1114336555000,3],[1129550667000,1],[1142380114000,3],[1157655145000,1],[1172964119000,0],[1188297507000,0],[1203564429000,0],[1218921072000,1],[1234190362000,3],[1246959583000,3],[1249519218000,3],[1262287426000,1],[1277552374000,1],[1292919484000,0],[1308168823000,0],[1323527576000,0],[1338807860000,1],[1354113247000,3],[1366920518000,1],[1369455066000,3],[1382140285000,3],[1397548008000,0],[1412765744000,0],[1428148884000,0],[1443408497000,0],[1458733701000,3],[1474052127000,3],[1486773903000,3],[1502130098000,1],[1517405460000,0],[1532722974000,0],[1548047607000,0],[1563312715000,1],[1578683471000,3],[1591385174000,3],[1593923472000,3],[1606729441000,3],[1622027993000,0],[1637312646000,1],[1652674362000,0],[1667905222000,0],[1683307445000,3],[1698524118000,1],[1711350839000,3],[1726627525000,1],[1741935596000,0],[1757268778000,0],[1772537692000,0],[1787890444000,1],[1803165246000,3],[1815926649000,3],[1818486899000,3],[1831263253000,1],[1846520457000,1],[1861894395000,0],[1877138602000,0],[1892500992000,0],[1907778874000,1],[1923085731000,3],[1935892322000,3],[1938426317000,3],[1951112805000,3],[1966518891000,0],[1981739020000,0],[1997118831000,0],[2012381783000,0],[2027704019000,3],[2043024457000,1],[2055747972000,3],[2071098735000,1],[2086380786000,0],[2101690352000,0],[2117023298000,0],[2132280593000,1],[2147658592000,3],[2160355502000,3],[2162892956000,3],[2175702240000,3],[2190999265000,1],[2206284988000,1],[2221645582000,0],[2236878281000,0],[2252277783000,1],[2267498105000,1],[2280321011000,3],[2295600347000,3],[2310906724000,0],[2326240310000,0],[2341510713000,0],[2356860044000,0],[2372139806000,3],[2387454890000,3],[2400238957000,1],[2415488765000,1],[2430869174000,0],[2446108545000,0],[2461474435000,0],[2476749748000,1],[2492058468000,3],[2504863599000,3],[2507397252000,3],[2520085931000,3],[2535489122000,0],[2550712907000,0],[2566088188000,0],[2581355510000,0],[2596673886000,3],[2611997158000,1],[2624721730000,3],[2640067550000,3],[2655355887000,0],[2670657990000,0],[2685998777000,0],[2701248798000,1],[2716633566000,3],[2729325789000,3],[2731862604000,3],[2744675336000,3],[2759970380000,1],[2775257618000,1],[2790616548000,0],[2805851778000,0],[2821247735000,1],[2836472496000,1],[2849290624000,3],[2864573612000,3],[2867112255000,3]];
solar=[[-593924780000,2],[-578574489000,2],[-563294905000,0],[-547980385000,2],[-532652430000,1],[-519945346000,1],[-517392297000,1],[-504566879000,2],[-489324442000,0],[-473962997000,2],[-458682558000,0],[-443379454000,2],[-428035161000,0],[-412790365000,1],[-399945272000,2],[-384721558000,0],[-369347563000,2],[-354078272000,0],[-338762152000,2],[-323436780000,0],[-308162092000,1],[-292813204000,1],[-280078812000,0],[-264777193000,2],[-249436042000,0],[-234185668000,2],[-218802168000,2],[-203570627000,0],[-188191792000,1],[-175461953000,1],[-172932127000,1],[-160180086000,1],[-144816149000,0],[-129584709000,2],[-114186059000,2],[-98962592000,0],[-83582232000,1],[-68322064000,0],[-55558770000,1],[-40221674000,0],[-24951903000,2],[-9604861000,2],[5679510000,0],[20987730000,2],[36322686000,1],[49023115000,1],[51575971000,1],[64407802000,2],[79645598000,0],[95010381000,2],[110288320000,0],[125593363000,2],[140935684000,0],[156183193000,1],[169024653000,1],[184252554000,1],[199621458000,2],[214895625000,0],[230207490000,2],[245536047000,0],[260809426000,1],[276157723000,1],[288896106000,0],[304190558000,2],[319539241000,0],[334782741000,2],[350172564000,2],[365399196000,0],[380781773000,1],[393509073000,1],[396038684000,1],[408792729000,1],[424154613000,0],[439389075000,2],[454783541000,2],[470012057000,0],[485386178000,1],[500652687000,0],[513411682000,1],[528750375000,null],[544020587000,null],[559365141000,2],[574653536000,0],[589956269000,2],[605297321000,1],[620544707000,1],[633382284000,2],[648615787000,0],[663983631000,2],[679259220000,0],[694566337000,2],[709906282000,0],[725157101000,1],[737994014000,1],[753227151000,1],[768589946000,2],[783870006000,0],[799176800000,2],[814509210000,0],[829780692000,1],[845128984000,1],[857870690000,0],[873158689000,1],[888514167000,0],[903751630000,2],[919146878000,2],[934369449000,0],[949755027000,1],[962480013000,1],[965009647000,1],[977765757000,1],[993125026000,0],[1008363181000,2],[1023752722000,2],[1038987135000,0],[1054354163000,2],[1069627822000,0],[1082381705000,1],[1097722823000,1],[1112992610000,null],[1128335567000,2],[1143627142000,0],[1158925276000,2],[1174271577000,1],[1189513944000,1],[1202356570000,2],[1217586132000,0],[1232956785000,2],[1248230185000,0],[1263539259000,2],[1278876878000,0],[1294131102000,1],[1306963038000,1],[1309509570000,1],[1322202084000,1],[1337558033000,2],[1352844775000,0],[1368145580000,2],[1383482856000,null],[1398751472000,2],[1414100739000,1],[1426844807000,0],[1442127319000,1],[1457488699000,0],[1472720882000,2],[1488120872000,2],[1503340000000,0],[1518727953000,1],[1531450936000,1],[1533980848000,1],[1546738958000,1],[1562095447000,0],[1577337533000,2],[1592721675000,2],[1607962479000,0],[1623321786000,2],[1638603278000,0],[1651351356000,1],[1666695679000,1],[1681964275000,null],[1697306440000,2],[1712600309000,0],[1727894773000,2],[1743245316000,1],[1758483784000,1],[1771330385000,2],[1786556825000,0],[1801929647000,2],[1817201269000,0],[1832512138000,2],[1847847399000,0],[1863105227000,1],[1875931573000,1],[1878478638000,1],[1891177437000,1],[1906525753000,2],[1921819897000,0],[1937114164000,2],[1952456850000,null],[1967722002000,2],[1983072852000,1],[1995818555000,0],[2011096471000,1],[2026462725000,0],[2041690767000,2],[2057094353000,2],[2072311006000,0],[2087700409000,1],[2100421926000,1],[2102952345000,1],[2115712135000,1],[2131065635000,0],[2146312030000,2],[2161690374000,2],[2176938010000,0],[2192289173000,2],[2207579026000,0],[2220320582000,1],[2235668941000,1],[2250935540000,0],[2266277781000,2],[2281573050000,0],[2296864841000,2],[2312218669000,0],[2327454108000,2],[2340303879000,2],[2355527821000,0],[2370902166000,2],[2386172559000,0],[2401484786000,2],[2416818073000,0],[2432079197000,1],[2444899950000,1],[2447447776000,1],[2460153012000,1],[2475493132000,2],[2490795327000,0],[2506082398000,2],[2521431227000,null],[2536692170000,null],[2552045452000,1],[2564791838000,1],[2580066134000,1],[2595436312000,0],[2610661149000,2],[2626067299000,2],[2641282449000,0],[2656672420000,1],[2669393041000,1],[2671924173000,1],[2684685245000,1],[2700035869000,0],[2715286605000,2],[2730658918000,2],[2745913671000,0],[2761256415000,2],[2776554875000,0],[2789289565000,1],[2791844374000,1],[2804642587000,1],[2819906535000,0],[2835249494000,2],[2850545399000,0],[2865835450000,2]];
function eclipse(){
	this.value="";
	this.extraInfo="";
	this.toString=function(){return this.value;}
}
function getEclipse(date){
	var result=new eclipse();
	var oneday=86400000;
	for(var i=0;i<lunar.length;i++){
		var d=new Date(lunar[i][0]-oneday/24*8);//把月食的时间转换成东八区的时间来获得日期
		if(d.toDateString()==date.toDateString()) {
			result.value="有月"+eclipseType[lunar[i][1]];
			result.extraInfo="食甚"+d.getHours()+"点"+d.getMinutes()+"分";
		}
		var d=new Date(lunar[i][0]-oneday/24*8-oneday);
		if(d.toDateString()==date.toDateString())
			result.extraInfo="一天后有月"+eclipseType[lunar[i][1]];
		var d=new Date(lunar[i][0]-oneday/24*8-oneday*2);
		if(d.toDateString()==date.toDateString()) 
			result.extraInfo="两天后有月"+eclipseType[lunar[i][1]];
	}
	for(var i=0;i<solar.length;i++){
		var d=new Date(solar[i][0]-oneday/24*8);//把日食的时间转换成东八区的时间来获得日期
		if(d.toDateString()==date.toDateString()){
			result.value="有日"+eclipseType[lunar[i][1]];
			result.extraInfo="食甚"+d.getHours()+"点"+d.getMinutes()+"分";
		}
		var d=new Date(solar[i][0]-oneday/24*8-oneday);
		if(d.toDateString()==date.toDateString()) 
			result.extraInfo="一天后有日"+eclipseType[lunar[i][1]];
		var d=new Date(solar[i][0]-oneday/24*8-oneday*2);
			if(d.toDateString()==date.toDateString()) 
			result.extraInfo="两天后有日"+eclipseType[lunar[i][1]];
	}
	return result;
}